/*
 * angular-tooltips-jogjayr
 * 1.2.0
 * 
 * Angular.js tooltips module.
 * http://720kb.github.io/angular-tooltips
 * 
 * MIT license
 * Wed Oct 05 2016
 */
!function(t,e){"use strict";var o="tooltips",r=function(){var t,o=[],r=0,i=function(t){t-r>=15?(o.forEach(function(t){t()}),r=t):e.console.log("Skipped!")},l=function(){e.clearTimeout(t),t=e.setTimeout(function(){e.requestAnimationFrame(i)},500)},n=function(t){t&&o.push(t)};return{add:function(t){o.length||e.addEventListener("resize",l),n(t)},remove:function(){o.length||(e.clearTimeout(t),e.removeEventListener("resize",l))}}}(),i=function(t){var e={};return t.removeAttr(o),void 0!==t.attr("tooltip-template")&&(e["tooltip-template"]=t.attr("tooltip-template"),t.removeAttr("tooltip-template")),void 0!==t.attr("tooltip-template-url")&&(e["tooltip-template-url"]=t.attr("tooltip-template-url"),t.removeAttr("tooltip-template-url")),void 0!==t.attr("tooltip-template-url-cache")&&(e["tooltip-template-url-cache"]=t.attr("tooltip-template-url-cache"),t.removeAttr("tooltip-template-url-cache")),void 0!==t.attr("tooltip-controller")&&(e["tooltip-controller"]=t.attr("tooltip-controller"),t.removeAttr("tooltip-controller")),void 0!==t.attr("tooltip-side")&&(e["tooltip-side"]=t.attr("tooltip-side"),t.removeAttr("tooltip-side")),void 0!==t.attr("tooltip-show-trigger")&&(e["tooltip-show-trigger"]=t.attr("tooltip-show-trigger"),t.removeAttr("tooltip-show-trigger")),void 0!==t.attr("tooltip-hide-trigger")&&(e["tooltip-hide-trigger"]=t.attr("tooltip-hide-trigger"),t.removeAttr("tooltip-hide-trigger")),void 0!==t.attr("tooltip-smart")&&(e["tooltip-smart"]=t.attr("tooltip-smart"),t.removeAttr("tooltip-smart")),void 0!==t.attr("tooltip-class")&&(e["tooltip-class"]=t.attr("tooltip-class"),t.removeAttr("tooltip-class")),void 0!==t.attr("tooltip-close-button")&&(e["tooltip-close-button"]=t.attr("tooltip-close-button"),t.removeAttr("tooltip-close-button")),void 0!==t.attr("tooltip-size")&&(e["tooltip-size"]=t.attr("tooltip-size"),t.removeAttr("tooltip-size")),void 0!==t.attr("tooltip-speed")&&(e["tooltip-speed"]=t.attr("tooltip-speed"),t.removeAttr("tooltip-speed")),void 0!==t.attr("tooltip-viewport")&&(e["tooltip-viewport"]=t.attr("tooltip-viewport"),t.removeAttr("tooltip-viewport")),void 0!==t.attr("tooltip-show-on-truncate")&&(e["tooltip-show-on-truncate"]=t.attr("tooltip-show-on-truncate"),t.removeAttr("tooltip-show-on-truncate")),e},l=function(t){return e.getComputedStyle?e.getComputedStyle(t,""):t.currentStyle?t.currentStyle:void 0},n=function(o){for(var r,i,l=e.document.querySelectorAll("._exradicated-tooltip"),n=0,p=l.length;n<p;n+=1)if(r=l.item(n),r&&(i=t.element(r),i.data("_tooltip-parent")&&i.data("_tooltip-parent")===o))return i},p=function(t){var e=n(t);e&&e.remove()},a=function(t,o){if(t){var r=t[0].getBoundingClientRect(),i=o[0].getBoundingClientRect();return(r.top<0||r.top>e.document.body.offsetHeight||r.top<i.top||r.left<0||r.left>e.document.body.offsetWidth||r.left<i.left||r.bottom<0||r.bottom>e.document.body.offsetHeight||r.bottom>i.bottom||r.right<0||r.right>e.document.body.offsetWidth||r.right>i.right)&&(t.css({top:"",left:"",bottom:"",right:""}),!0)}throw new Error("You must provide a position")},s=function(){var t={side:"top",showTrigger:"mouseover",hideTrigger:"mouseleave","class":"",smart:!1,closeButton:!1,size:"",speed:"steady",tooltipTemplateUrlCache:!1,viewport:"",showOnTruncate:!1};return{configure:function(e){var o,r=Object.keys(t),i=0;if(e)for(;i<r.length;i+=1)o=r[i],o&&e[o]&&(t[o]=e[o])},$get:function(){return t}}},d=["$log","$http","$compile","$timeout","$controller","$injector","tooltipsConf","$templateCache",function(o,s,d,c,m,u,g,f){var h=function(o,u,h,v,C){if(h.tooltipTemplate&&h.tooltipTemplateUrl)throw new Error("You can not define tooltip-template and tooltip-template-url together");if(!h.tooltipTemplateUrl&&!h.tooltipTemplate&&h.tooltipController)throw new Error("You can not have a controller without a template or templateUrl defined");if(h.tooltipViewport&&!h.tooltipSmart)throw new Error("You can not have a tooltip-viewport without tooltip-smart enabled");var w,_="_"+g.side,b=g.showTrigger,y=g.hideTrigger,T=g.size,S="_"+g.speed;h.tooltipSide=h.tooltipSide||g.side,h.tooltipShowTrigger=h.tooltipShowTrigger||g.showTrigger,h.tooltipHideTrigger=h.tooltipHideTrigger||g.hideTrigger,h.tooltipClass=h.tooltipClass||g["class"],h.tooltipSmart="true"===h.tooltipSmart||g.smart,h.tooltipCloseButton=h.tooltipCloseButton||g.closeButton.toString(),h.tooltipSize=h.tooltipSize||g.size,h.tooltipSpeed=h.tooltipSpeed||g.speed,h.tooltipViewport=h.tooltipViewport||g.viewport,h.tooltipShowOnTruncate="true"===h.tooltipShowOnTruncate||g.showOnTruncate,h.tooltipAppendToBody="true"===h.tooltipAppendToBody,C(o,function(o,g){var v=i(o),C=t.element(e.document.createElement("tooltip")),$=t.element(e.document.createElement("tip-cont")),A=t.element(e.document.createElement("tip")),V=t.element(e.document.createElement("tip-tip")),P=t.element(e.document.createElement("span")),B=t.element(e.document.createElement("tip-arrow")),O=h.tooltipViewport?t.element(e.document.querySelector(h.tooltipViewport)):t.element(e.document.body),E=function(){return $.html()},z=function(t){void 0!==t&&$[0].getClientRects().length>1?C.addClass("_multiline"):C.removeClass("_multiline")},x=function(){var t,o=e.getComputedStyle(C[0].parentNode),r={top:o.getPropertyValue("padding-top"),right:o.getPropertyValue("padding-right"),bottom:o.getPropertyValue("padding-bottom"),left:o.getPropertyValue("padding-left")};for(t in r)r.hasOwnProperty(t)&&(r[t]=parseInt(r[t].substring(0,r[t].indexOf("px")),10),r[t]=isNaN(r[t])?0:r[t]);return!(C[0].clientWidth<C[0].parentNode.clientWidth-r.left-r.right&&C[0].clientHeight<C[0].parentNode.clientHeight-r.top-r.bottom)},H=function(o){if(!h.tooltipShowOnTruncate||x()){if(A.addClass("_hidden"),h.tooltipSmart)switch(h.tooltipSide){case"top":a(A,O)&&(C.removeClass("_top"),C.addClass("_left"),a(A,O)&&(C.removeClass("_left"),C.addClass("_bottom"),a(A,O)&&(C.removeClass("_bottom"),C.addClass("_right"),a(A,O)&&(C.removeClass("_right"),C.addClass("_top")))));break;case"left":a(A,O)&&(C.removeClass("_left"),C.addClass("_bottom"),a(A,O)&&(C.removeClass("_bottom"),C.addClass("_right"),a(A,O)&&(C.removeClass("_right"),C.addClass("_top"),a(A,O)&&(C.removeClass("_top"),C.addClass("_left")))));break;case"bottom":a(A,O)&&(C.removeClass("_bottom"),C.addClass("_left"),a(A,O)&&(C.removeClass("_left"),C.addClass("_top"),a(A,O)&&(C.removeClass("_top"),C.addClass("_right"),a(A,O)&&(C.removeClass("_right"),C.addClass("_bottom")))));break;case"right":a(A,O)&&(C.removeClass("_right"),C.addClass("_top"),a(A,O)&&(C.removeClass("_top"),C.addClass("_left"),a(A,O)&&(C.removeClass("_left"),C.addClass("_bottom"),a(A,O)&&(C.removeClass("_bottom"),C.addClass("_right")))));break;default:throw new Error("Position not supported")}if(h.tooltipAppendToBody){var r,i,n,s,d,c=l(V[0]),m=l(B[0]),u=l(A[0]),g=A[0].getBoundingClientRect(),f=t.copy(A),v=0,w=c.length,_=0,b=m.length,y=0,T=u.length,S={},$={},P={};for(A.removeClass("_hidden"),f.removeClass("_hidden"),f.data("_tooltip-parent",C),p(C);v<w;v+=1)r=c[v],r&&c.getPropertyValue(r)&&(S[r]=c.getPropertyValue(r));for(;_<b;_+=1)r=m[_],r&&m.getPropertyValue(r)&&(P[r]=m.getPropertyValue(r));for(;y<T;y+=1)r=u[y],r&&"position"!==r&&"display"!==r&&"opacity"!==r&&"z-index"!==r&&"bottom"!==r&&"height"!==r&&"left"!==r&&"right"!==r&&"top"!==r&&"width"!==r&&u.getPropertyValue(r)&&($[r]=u.getPropertyValue(r));i=e.parseInt(u.getPropertyValue("padding-top"),10),n=e.parseInt(u.getPropertyValue("padding-bottom"),10),s=e.parseInt(u.getPropertyValue("padding-left"),10),d=e.parseInt(u.getPropertyValue("padding-right"),10),$.top=g.top+e.pageYOffset+"px",$.left=g.left+e.pageXOffset+"px",$.height=g.height-(i+n)+"px",$.width=g.width-(s+d)+"px",f.css($),f.children().css(S),f.children().next().css(P),o&&"true"!==h.tooltipHidden&&(f.addClass("_exradicated-tooltip"),t.element(e.document.body).append(f))}else A.removeClass("_hidden"),o&&"true"!==h.tooltipHidden&&C.addClass("active")}},k=function(){h.tooltipAppendToBody?p(C):C.removeClass("active")},U=function mt(t){var e,o=t.parent();t[0]&&(t[0].scrollHeight>t[0].clientHeight||t[0].scrollWidth>t[0].clientWidth)&&t.on("scroll",function(){var t=this;e&&c.cancel(e),e=c(function(){var e=n(C),o=C[0].getBoundingClientRect(),r=t.getBoundingClientRect();o.top<r.top||o.bottom>r.bottom||o.left<r.left||o.right>r.right?p(C):e&&H(!0)})}),o&&o.length&&mt(o)},W=function(t){t?(C.removeClass("_force-hidden"),V.empty(),V.append(P),V.append(t),c(function(){H()})):(V.empty(),C.addClass("_force-hidden"))},R=function(t){t&&!h.tooltipTemplateUrlCache?s.get(t).then(function(t){t&&t.data&&(C.removeClass("_force-hidden"),V.empty(),V.append(P),V.append(d(t.data)(g)),c(function(){H()}))}):(V.empty(),C.addClass("_force-hidden"))},I=function(t){if(t&&h.tooltipTemplateUrl){var e=f.get(h.tooltipTemplateUrl);"undefined"!=typeof e&&(C.removeClass("_force-hidden"),V.empty(),V.append(P),V.append(d(e)(g)),c(function(){H()}))}else V.empty(),C.addClass("_force-hidden")},N=function(t){t&&(_&&C.removeAttr("_"+_),C.addClass("_"+t),_=t)},Y=function(t){t&&(b&&C.off(b),C.on(t,H),b=t)},q=function(t){t&&(y&&C.off(y),C.on(t,k),y=t)},j=function(t){t&&(w&&A.removeClass(w),A.addClass(t),w=t)},L=function(){"boolean"!=typeof h.tooltipSmart&&(h.tooltipSmart="true"===h.tooltipSmart)},F=function(t){var e="true"===t;e?(P.on("click",k),P.css("display","block")):(P.off("click"),P.css("display","none"))},X=function(e){if(e){var o,r=m(e,{$scope:g}),i=g.$new(!1,g),l=e.indexOf("as");l>=0?(o=e.substr(l+3),i[o]=r):t.extend(i,r),V.replaceWith(d(V)(i)),nt()}},D=function(t){t&&(T&&V.removeClass("_"+T),V.addClass("_"+t),T=t)},G=function(t){t&&(S&&C.removeClass("_"+S),C.addClass("_"+t),S=t)},J=function(o){o?h.tooltipViewport=t.element(e.document.querySelector(h.tooltipViewport)):h.tooltipViewport=t.element(e.document.body)},K=function(){"boolean"!=typeof h.tooltipShowOnTruncate&&(h.tooltipShowOnTruncate="true"===h.tooltipShowOnTruncate)},M=h.$observe("tooltipTemplate",W),Q=h.$observe("tooltipTemplateUrl",R),Z=h.$observe("tooltipTemplateUrlCache",I),tt=h.$observe("tooltipSide",N),et=h.$observe("tooltipShowTrigger",Y),ot=h.$observe("tooltipHideTrigger",q),rt=h.$observe("tooltipClass",j),it=h.$observe("tooltipSmart",L),lt=h.$observe("tooltipCloseButton",F),nt=h.$observe("tooltipController",X),pt=h.$observe("tooltipSize",D),at=h.$observe("tooltipSpeed",G),st=h.$observe("tooltipViewport",J),dt=h.$observe("tooltipShowOnTruncate",K),ct=g.$watch(E,z);P.attr({id:"close-button"}),P.html("&times;"),A.addClass("_hidden"),V.append(P),V.append(h.tooltipTemplate),A.append(V),A.append(B),$.append(o),C.attr(v),C.addClass("tooltips"),C.append($),C.append(A),u.after(C),h.tooltipAppendToBody&&(r.add(function(){U(C)}),U(C)),r.add(function(){z(),H()}),c(function(){H(),A.removeClass("_hidden"),C.addClass("_ready")}),g.$on("$destroy",function(){M(),Q(),Z(),tt(),et(),ot(),rt(),it(),lt(),pt(),at(),st(),dt(),ct(),r.remove(),o.off(h.tooltipShowTrigger+" "+h.tooltipHideTrigger)})})};return{restrict:"A",transclude:"element",priority:1,terminal:!0,link:h}}];t.module("720kb.tooltips",[]).provider(o+"Conf",s).directive(o,d)}(angular,window);
//# sourceMappingURL=angular-tooltips.js.map
